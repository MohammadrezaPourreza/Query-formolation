This repository aims to provide a foundation for creating and testing different query formulation and query expansion algorithms for the task of biomedical literature review.

## Requirements
#### UMLS
UMLS is a biomedical knowledge graph containing different dictionaries and semantic networks.
Download it from [Here](https://www.nlm.nih.gov/research/umls/licensedcontent/umlsknowledgesources.html).
After downloading you can use the MetamorphoSys tool to customize your subset. I used only `SNOMED` and `MeSH` vocabularies (You can use anysubset if you want, but the `cui_to_to_biowordvec vectors` are trained using this subset).
Using the sql generated by MetamorphoSys import data to mysql and provide the  connection details in environment variables (or `.env` file)
```
DB_HOST=127.0.0.1  
DB_PORT=db_port
DB_USER=root  
DB_NAME=db_name  
DB_PASSWORD=password
```
#### QuickUMLS
(QuickUMLS)[https://github.com/Georgetown-IR-Lab/QuickUMLS] is a python package for extracting CUI (UMLS Concepts or terms) from a text. You need to install UMLS first and then create install the QuickUMLS using your subset.
set `QUICKUMLS_HOME` in your environment to point to the directory where you installed QuickUMLS (you can put it in the .env file)
```
QUICKUMLS_HOME=/home/username/umls/quickumls
```

#### CoreNLP
We use CoreNLP to parse sentence tree and extract noun phrases from queries and discard other words.
Download Standford CoreNLP package from this [link](https://stanfordnlp.github.io/CoreNLP/download.html).
Set environment variables `CORE_NLP_HOME` and `CORE_NLP_VERSION` (you can use `.env` file)
```
CORE_NLP_HOME =/home/username/CoreNLP/stanford-corenlp-4.2.2  
CORE_NLP_VERSION=4.2.2
```

#### CUI To BioWordVec
Using [BioWordVec](https://github.com/ncbi-nlp/BioWordVec), We have created an embedding which maps CUIs to vectors (of length 100).
Download it from [here](https://drive.google.com/drive/folders/1-GeDKUNTuMZrOAtq2Wz4QKoMg3JsZ2i6) and put the files in `cui_to_wordvec` folder. 
For more information on why `BioWordVec` was used, you can take a look at the following paper which has compared different embedding methods for CUI similarity

*Use of word and graph embedding to measure semantic relatedness between Unified Medical Language System concepts*
*Yuqing Mao,  Kin Wah Fung
_Journal of the American Medical Informatics Association_, Volume 27, Issue 10, October 2020, Pages 1538â€“1546,  [https://doi.org/10.1093/jamia/ocaa136](https://doi.org/10.1093/jamia/ocaa136)*

#### Python Packages
`pip install -r requrements.txt`
